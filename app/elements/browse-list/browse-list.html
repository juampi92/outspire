<dom-module id='browse-list'>
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <paper-menu class="list">
    <template is="dom-repeat" items="{{items}}">
      <paper-item>
        <b>{{item.name}}</b>
        <paper-icon-button icon="add" on-click="add"></paper-icon-button>
      </paper-item>
    </template>
    </paper-menu>
  </template>

</dom-module>
  <script>
    (function() {
      var app = document.getElementById('app');

      Polymer({
        is: 'browse-list',
        properties: {
          items: {
            type: Array,
            notify: true,
          }
        },
        ready: function() {
          this.load();
        },
        load: function() {
          var items = [],
            sounds = document.getElementById('app').data.sounds;

          for (var key in sounds) {
            items.push(sounds[key]);
            sounds[key].id = key;
          }

          this.items = items;
        },
        add: function(e) {
          var id = e.model.__data__.item.id;
          app.fire('sound:add', id);
        }
      });
    })();
  </script>
